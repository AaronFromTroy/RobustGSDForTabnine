---
phase: 01-foundation-templates
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - gsd/templates/PROJECT.md
  - gsd/templates/ROADMAP.md
  - gsd/templates/PLAN.md
  - gsd/templates/REQUIREMENTS.md
  - gsd/templates/STATE.md
autonomous: true

must_haves:
  truths:
    - "Template renderer can substitute variables using ${varName} syntax"
    - "Templates include YAML frontmatter with version and variable list"
    - "Rendered templates are valid markdown with correct structure"
    - "Templates are human-readable and manually editable"
  artifacts:
    - path: "gsd/templates/PROJECT.md"
      provides: "Project definition template"
      min_lines: 40
      contains: "${projectName}"
    - path: "gsd/templates/ROADMAP.md"
      provides: "Roadmap template"
      min_lines: 50
      contains: "${phaseCount}"
    - path: "gsd/templates/PLAN.md"
      provides: "Phase plan template"
      min_lines: 60
      contains: "${phaseName}"
    - path: "gsd/templates/REQUIREMENTS.md"
      provides: "Requirements template"
      min_lines: 30
      contains: "${coreValue}"
    - path: "gsd/templates/STATE.md"
      provides: "State tracking template"
      min_lines: 40
      contains: "${currentPhase}"
  key_links:
    - from: "gsd/templates/*.md"
      to: "YAML frontmatter"
      via: "variables list"
      pattern: "^---\\nvariables:"
    - from: "gsd/templates/*.md"
      to: "Template literals"
      via: "${...} substitution markers"
      pattern: "\\$\\{\\w+\\}"
---

<objective>
Create artifact template files with YAML frontmatter and variable substitution markers.

**Purpose:** Enable template-renderer.js script to generate PROJECT.md, ROADMAP.md, PLAN.md, REQUIREMENTS.md, and STATE.md artifacts with project-specific data.

**Output:** Five template markdown files with YAML frontmatter listing required variables and template bodies using ${varName} syntax for substitution.
</objective>

<execution_context>
@C:\Projects\GSDForTabnine\.planning\phases\01-foundation-templates\01-RESEARCH.md
</execution_context>

<context>
@C:\Projects\GSDForTabnine\.planning\PROJECT.md
@C:\Projects\GSDForTabnine\.planning\ROADMAP.md
@C:\Projects\GSDForTabnine\.planning\STATE.md
@C:\Projects\GSDForTabnine\.planning\REQUIREMENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create PROJECT.md and REQUIREMENTS.md templates</name>
  <files>gsd/templates/PROJECT.md, gsd/templates/REQUIREMENTS.md</files>
  <action>
Create `gsd/templates/` directory.

Create `PROJECT.md` template with:
- YAML frontmatter:
  ```yaml
  ---
  version: "1.0.0"
  type: "template"
  artifact: "PROJECT"
  schema: "gsd-project-v1"
  variables:
    - projectName
    - createdDate
    - coreValue
    - description
    - context
  ---
  ```
- Template body using existing `.planning/PROJECT.md` as reference:
  ```markdown
  # ${projectName}

  **Created:** ${createdDate}
  **Version:** 1.0.0

  ## What This Is

  ${description}

  ## Core Value

  ${coreValue}

  ## Requirements

  ${requirements}

  ## Context

  ${context}

  ## Constraints

  ${constraints}

  ## Key Decisions

  (To be populated during project execution)
  ```
- All variable placeholders use `${varName}` syntax
- Template structure matches existing PROJECT.md sections

Create `REQUIREMENTS.md` template with:
- YAML frontmatter listing variables: projectName, createdDate, coreValue, requirementCategories
- Template body following existing `.planning/REQUIREMENTS.md` structure:
  - Header with project name and core value
  - v1 Requirements section with categories
  - v2 Requirements (deferred)
  - Out of Scope
  - Traceability table placeholder
- Use `${...}` for all substitution points
  </action>
  <verify>
Both files exist in `gsd/templates/`. Each has YAML frontmatter with `variables` array. Template bodies contain `${varName}` placeholders. Files are valid markdown (can be previewed).
  </verify>
  <done>PROJECT.md and REQUIREMENTS.md templates ready for variable substitution</done>
</task>

<task type="auto">
  <name>Task 2: Create ROADMAP.md and STATE.md templates</name>
  <files>gsd/templates/ROADMAP.md, gsd/templates/STATE.md</files>
  <action>
Create `ROADMAP.md` template with:
- YAML frontmatter listing variables: projectName, createdDate, depth (Quick/Standard/Comprehensive), phaseCount, totalRequirements, totalSuccessCriteria
- Template body using existing `.planning/ROADMAP.md` as reference:
  ```markdown
  # Roadmap: ${projectName}

  **Project:** ${projectDescription}
  **Created:** ${createdDate}
  **Depth:** ${depth} (${phaseCount} phases)
  **Coverage:** ${totalRequirements} requirements mapped

  ## Overview

  ${overview}

  ## Phases

  ${phasesContent}

  ## Progress

  | Phase | Status | Requirements | Success Criteria |
  |-------|--------|--------------|------------------|
  ${progressTable}

  ## Dependencies

  ${dependencyGraph}

  ## Risk Mitigation

  ${riskMitigation}
  ```
- Template allows dynamic phase content insertion

Create `STATE.md` template with:
- YAML frontmatter listing variables: projectName, lastUpdated, version, coreValue, currentPhase, currentPlan, status, currentStep, totalPhases, completedPhases
- Template body following existing `.planning/STATE.md`:
  ```markdown
  # State: ${projectName}

  **Last Updated:** ${lastUpdated}
  **Version:** ${version}

  ## Project Reference

  **Core Value:** ${coreValue}
  **Current Focus:** ${currentFocus}

  ## Current Position

  **Phase:** ${currentPhase}
  **Plan:** ${currentPlan}
  **Status:** ${status}
  **Step:** ${currentStep}
  **Progress:** ${progressIndicator}

  ## Performance Metrics

  **Phases Completed:** ${completedPhases}/${totalPhases}
  **Requirements Validated:** ${validatedRequirements}/${totalRequirements}
  **Success Rate:** ${successRate}

  ## Accumulated Context

  ### Key Decisions

  ${keyDecisions}

  ### Active TODOs

  ${activeTodos}

  ### Known Blockers

  ${knownBlockers}

  ### Recent Changes

  ${recentChanges}

  ## Session Continuity

  **Last Action:** ${lastAction}
  **Next Action:** ${nextAction}
  **Context Needed:** ${contextNeeded}

  **Resume Instructions:**
  ${resumeInstructions}
  ```
- All dynamic fields use `${...}` syntax
  </action>
  <verify>
Both files exist with YAML frontmatter. ROADMAP.md has placeholders for phases content. STATE.md has placeholders for all state tracking fields. Both templates match structure of existing artifacts.
  </verify>
  <done>ROADMAP.md and STATE.md templates enable state persistence and roadmap generation</done>
</task>

<task type="auto">
  <name>Task 3: Create PLAN.md template with XML task structure</name>
  <files>gsd/templates/PLAN.md</files>
  <action>
Create `PLAN.md` template with:
- YAML frontmatter listing variables: phaseName, planNumber, planType (execute/tdd), wave, dependsOn, filesModified, autonomous, userSetup
- Template body:
  ```markdown
  ---
  phase: ${phaseName}
  plan: ${planNumber}
  type: ${planType}
  wave: ${wave}
  depends_on: ${dependsOn}
  files_modified: ${filesModified}
  autonomous: ${autonomous}
  ${userSetupSection}
  ---

  <objective>
  ${objective}

  **Purpose:** ${purpose}
  **Output:** ${output}
  </objective>

  <execution_context>
  ${executionContext}
  </execution_context>

  <context>
  ${contextReferences}
  </context>

  <tasks>

  <task type="${taskType}">
    <name>${taskName}</name>
    <files>${taskFiles}</files>
    <action>${taskAction}</action>
    <verify>${taskVerify}</verify>
    <done>${taskDone}</done>
  </task>

  ${additionalTasks}

  </tasks>

  <verification>
  ${verificationCriteria}
  </verification>

  <success_criteria>
  ${successCriteria}
  </success_criteria>

  <output>
  After completion, create \`.planning/phases/${phaseName}/${phaseName}-${planNumber}-SUMMARY.md\`
  </output>
  ```
- Include checkpoint task examples:
  ```xml
  <task type="checkpoint:human-verify" gate="blocking">
    <what-built>${whatBuilt}</what-built>
    <how-to-verify>${howToVerify}</how-to-verify>
    <resume-signal>${resumeSignal}</resume-signal>
  </task>
  ```
- Template shows structure for both auto tasks and checkpoint tasks
- Frontmatter includes all fields needed for wave-based execution
  </action>
  <verify>
File exists at `gsd/templates/PLAN.md`. YAML frontmatter lists all required variables. Template body shows both auto task and checkpoint task XML structures. File is valid markdown.
  </verify>
  <done>PLAN.md template provides complete structure for phase execution plans</done>
</task>

</tasks>

<verification>
All five template files exist in `gsd/templates/` directory. Each file:
- Contains YAML frontmatter with `version`, `type: "template"`, `variables` array
- Uses `${varName}` syntax consistently for all substitution points
- Matches structure of corresponding artifact in `.planning/` directory
- Is valid markdown (can be manually edited and previewed)
- Contains no literal template variables (all are placeholders)

Test variable extraction: Parse YAML frontmatter from each template and verify `variables` array is present and lists all `${...}` placeholders used in template body.
</verification>

<success_criteria>
**Measurable completion:**
1. `gsd/templates/` directory exists with 5 markdown files
2. Each file has YAML frontmatter with `variables` array
3. All placeholders use `${varName}` format (JavaScript template literal style)
4. Templates match structure of existing artifacts (PROJECT.md, ROADMAP.md, etc.)
5. No hardcoded project-specific data in templates (all dynamic fields parameterized)
6. Templates are human-readable and manually editable
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-templates/01-02-SUMMARY.md` documenting:
- Templates created (5 files)
- Variable substitution approach (template literals)
- Variables defined per template
- Any structural deviations from existing artifacts
</output>
