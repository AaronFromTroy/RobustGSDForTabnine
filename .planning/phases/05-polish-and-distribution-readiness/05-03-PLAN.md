---
phase: 05-polish-and-distribution-readiness
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - CONTRIBUTING.md
  - gsd/scripts/index.js
  - examples/basic-usage/package.json
  - examples/basic-usage/demo-project.js
  - examples/basic-usage/README.md
  - gsd/package.json
autonomous: true

must_haves:
  truths:
    - "Contributors know how to set up development environment"
    - "Contributors understand commit message format (conventional commits)"
    - "Users can import GSD modules via clean exports"
    - "Users have working example showing library integration"
    - "Example project runs successfully with npm install + npm start"
  artifacts:
    - path: "CONTRIBUTING.md"
      provides: "Contributor guidelines"
      min_lines: 80
      contains: ["Conventional Commits", "Development Setup", "Pull Request Process"]
    - path: "gsd/scripts/index.js"
      provides: "Main entry point for exports"
      exports: ["readState", "writeState", "renderTemplate", "loadGuideline", "validateArtifact"]
    - path: "examples/basic-usage/package.json"
      provides: "Example project configuration"
      contains: ["gsd-for-tabnine"]
    - path: "examples/basic-usage/demo-project.js"
      provides: "Working demo script"
      min_lines: 30
    - path: "examples/basic-usage/README.md"
      provides: "Example documentation"
      min_lines: 20
  key_links:
    - from: "gsd/package.json"
      to: "gsd/scripts/index.js"
      via: "exports field main entry"
      pattern: '"\\.": "\\./scripts/index\\.js"'
    - from: "examples/basic-usage/demo-project.js"
      to: "gsd/scripts/index.js"
      via: "import from gsd-for-tabnine"
      pattern: "from ['\"]gsd-for-tabnine['\"]"
---

<objective>
Provide contributor guidelines, package entry point, and working example for users.

Purpose: Enable community contributions with clear guidelines, provide clean module exports for library users, and demonstrate library usage with minimal working example.

Output: CONTRIBUTING.md, scripts/index.js entry point, examples/basic-usage/ demo project.
</objective>

<execution_context>
@~/.claude/get-stuff-done/workflows/execute-plan.md
@~/.claude/get-stuff-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-polish-and-distribution-readiness/05-RESEARCH.md

# Existing documentation
@gsd/README.md
@gsd/QUICKSTART.md

# Current package.json (has exports field from Plan 1)
@gsd/package.json

# Scripts to expose via index.js
@gsd/scripts/state-manager.js
@gsd/scripts/template-renderer.js
@gsd/scripts/guideline-loader.js
</context>

<tasks>

<task type="auto">
  <name>Create CONTRIBUTING.md</name>
  <files>CONTRIBUTING.md</files>
  <action>
Create CONTRIBUTING.md at project root with contributor guidelines.

Structure based on 05-RESEARCH.md Pattern 4:

```markdown
# Contributing to GSD for Tabnine

Thank you for your interest in contributing! This document provides guidelines for contributions.

## Ways to Contribute

- üêõ Report bugs via [GitHub Issues](https://github.com/yourusername/gsd-for-tabnine/issues)
- üí° Suggest features or improvements
- üìù Improve documentation
- üîß Submit pull requests

## Development Setup

1. **Fork and clone:**
   ```bash
   git clone https://github.com/YOUR-USERNAME/gsd-for-tabnine.git
   cd gsd-for-tabnine/gsd
   ```

2. **Install dependencies:**
   ```bash
   npm install
   ```

3. **Run tests:**
   ```bash
   npm test
   ```

## Commit Message Format

We use [Conventional Commits](https://www.conventionalcommits.org/) for automated versioning:

- `feat: add new feature` ‚Üí minor version bump (1.1.0)
- `fix: resolve bug` ‚Üí patch version bump (1.0.1)
- `BREAKING CHANGE: ...` ‚Üí major version bump (2.0.0)

**Format:** `type(scope): description`

**Types:**
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation changes
- `test`: Test additions/changes
- `refactor`: Code refactoring
- `chore`: Maintenance tasks

**Examples:**
```
feat(state-manager): add resume from checkpoint
fix(template-renderer): handle missing variables
docs(readme): update installation instructions
test(validator): add artifact validation tests
```

## Pull Request Process

1. Create a feature branch: `git checkout -b feat/my-feature`
2. Make your changes with descriptive commits
3. Run tests: `npm test`
4. Ensure all tests pass
5. Push and create pull request
6. Wait for CI to pass and review

## Testing Guidelines

- All new features require tests
- Bug fixes should include regression tests
- Integration tests live in `gsd/scripts/integration-test.js`
- Run full test suite before submitting PR

## Code Style

- Use ESM modules (`import`/`export`, not `require`)
- Follow existing code patterns
- Use async/await, not callbacks
- Cross-platform compatible (use `path` module)
- Add JSDoc comments for exported functions

## Questions?

Open a [GitHub Discussion](https://github.com/yourusername/gsd-for-tabnine/discussions) for questions.

## Code of Conduct

Be respectful, inclusive, and constructive in all interactions.

---

By contributing, you agree that your contributions will be licensed under the MIT License.
```

Replace `yourusername` with placeholder text "(replace with your username)" for now - user will update when setting up repo.
  </action>
  <verify>cat CONTRIBUTING.md | grep "Conventional Commits" && cat CONTRIBUTING.md | grep "Development Setup"</verify>
  <done>CONTRIBUTING.md exists with development setup, commit format, and PR process</done>
</task>

<task type="auto">
  <name>Create package entry point with re-exports</name>
  <files>gsd/scripts/index.js</files>
  <action>
Create gsd/scripts/index.js as main entry point that re-exports commonly used functions.

Re-export the most useful functions from each module:

From state-manager.js:
- readState, writeState, updateProgress, transitionPhase

From template-renderer.js:
- renderTemplate, listTemplates

From guideline-loader.js:
- loadGuideline, listWorkflows

From validator.js:
- validateArtifact, validateRequirementCoverage, validateStateStructure

From researcher.js:
- performResearch, extractFindings, mergeManualFindings

From research-synthesizer.js:
- synthesizeResearch, assignConfidenceLevel

Structure:
```javascript
/**
 * GSD for Tabnine - Main entry point
 *
 * Exports commonly used functions from all modules.
 * For full module access, use subpath imports:
 *   import { readState } from 'gsd-for-tabnine/state-manager'
 */

// State management
export {
  readState,
  writeState,
  updateProgress,
  transitionPhase
} from './state-manager.js';

// Template rendering
export {
  renderTemplate,
  listTemplates
} from './template-renderer.js';

// Guideline loading
export {
  loadGuideline,
  listWorkflows
} from './guideline-loader.js';

// Validation
export {
  validateArtifact,
  validateRequirementCoverage,
  validateStateStructure
} from './validator.js';

// Research (automated)
export {
  performResearch,
  extractFindings,
  mergeManualFindings
} from './researcher.js';

// Research synthesis
export {
  synthesizeResearch,
  assignConfidenceLevel
} from './research-synthesizer.js';
```

This enables users to do:
- `import { readState, renderTemplate } from 'gsd-for-tabnine'` (common use case)
- `import { readState } from 'gsd-for-tabnine/state-manager'` (specific module)

Both patterns work due to exports field in package.json.
  </action>
  <verify>cat gsd/scripts/index.js | grep "export {" && cat gsd/scripts/index.js | grep "from './state-manager.js'"</verify>
  <done>gsd/scripts/index.js re-exports functions from all modules</done>
</task>

<task type="auto">
  <name>Create basic usage example project</name>
  <files>examples/basic-usage/package.json, examples/basic-usage/demo-project.js, examples/basic-usage/README.md</files>
  <action>
Create examples/basic-usage/ directory with minimal working example.

**File 1: examples/basic-usage/package.json**
```json
{
  "name": "gsd-basic-example",
  "version": "1.0.0",
  "description": "Basic usage example for gsd-for-tabnine",
  "type": "module",
  "main": "demo-project.js",
  "scripts": {
    "start": "node demo-project.js"
  },
  "dependencies": {
    "gsd-for-tabnine": "file:../../gsd"
  }
}
```

Use `file:../../gsd` for local development. In published package, this example will show users how to use the library after `npm install gsd-for-tabnine`.

**File 2: examples/basic-usage/demo-project.js**

Demonstrates:
1. Reading/writing STATE.md
2. Rendering a template
3. Loading a guideline

```javascript
/**
 * Basic Usage Example for GSD for Tabnine
 *
 * Demonstrates core library functions:
 * - State management (read/write STATE.md)
 * - Template rendering
 * - Guideline loading
 */

import { readState, writeState, renderTemplate, loadGuideline } from 'gsd-for-tabnine';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

async function demo() {
  console.log('üöÄ GSD for Tabnine - Basic Usage Demo\n');

  // Example 1: Read state (if exists)
  console.log('üìñ Example 1: Reading project state');
  try {
    const state = await readState();
    console.log(`Current phase: ${state.currentPhase}`);
    console.log(`Status: ${state.status}\n`);
  } catch (err) {
    console.log('No STATE.md found (expected for new projects)\n');
  }

  // Example 2: Render a template
  console.log('üìù Example 2: Rendering PROJECT.md template');
  const templatePath = join(__dirname, '../../gsd/templates/PROJECT.md');
  const projectData = {
    projectName: 'My Demo Project',
    coreValue: 'Demonstrate GSD library usage',
    createdDate: new Date().toISOString().split('T')[0]
  };

  const rendered = await renderTemplate(templatePath, projectData);
  console.log('Template rendered successfully');
  console.log(`Output length: ${rendered.length} characters\n`);

  // Example 3: Load a guideline
  console.log('üìã Example 3: Loading new-project guideline');
  const guideline = await loadGuideline('new-project');
  console.log(`Guideline: ${guideline.metadata.title}`);
  console.log(`Version: ${guideline.metadata.version}`);
  console.log(`Content: ${guideline.content.substring(0, 100)}...\n`);

  console.log('‚úÖ Demo complete! Check the code in demo-project.js to see usage patterns.');
}

demo().catch(err => {
  console.error('‚ùå Demo failed:', err.message);
  process.exit(1);
});
```

**File 3: examples/basic-usage/README.md**

```markdown
# Basic Usage Example

Demonstrates core GSD for Tabnine library functions.

## Setup

```bash
# Install dependencies
npm install

# Run demo
npm start
```

## What This Example Shows

1. **State Management:** Reading and writing STATE.md files
2. **Template Rendering:** Populating templates with project data
3. **Guideline Loading:** Loading workflow guidelines programmatically

## Code Structure

- `demo-project.js`: Main demo script with 3 examples
- `package.json`: Declares dependency on gsd-for-tabnine

## Expected Output

```
üöÄ GSD for Tabnine - Basic Usage Demo

üìñ Example 1: Reading project state
No STATE.md found (expected for new projects)

üìù Example 2: Rendering PROJECT.md template
Template rendered successfully
Output length: 450 characters

üìã Example 3: Loading new-project guideline
Guideline: New Project Initialization
Version: 1.0.0
Content: # New Project Initialization...

‚úÖ Demo complete!
```

## Next Steps

- Check main README: `../../gsd/README.md`
- See QUICKSTART guide: `../../gsd/QUICKSTART.md`
- Explore API documentation (coming soon)
```

Create all three files in examples/basic-usage/ directory.
  </action>
  <verify>ls examples/basic-usage/ | grep -E "package.json|demo-project.js|README.md" && cat examples/basic-usage/package.json | grep "gsd-for-tabnine"</verify>
  <done>examples/basic-usage/ contains working demo with package.json, demo-project.js, and README.md</done>
</task>

<task type="auto">
  <name>Update package.json scripts</name>
  <files>gsd/package.json</files>
  <action>
Update gsd/package.json scripts section with improved commands.

Current:
```json
"scripts": {
  "test": "echo \"Tests in Phase 3\" && exit 0"
}
```

Update to:
```json
"scripts": {
  "test": "node scripts/integration-test.js",
  "test:watch": "nodemon --watch scripts scripts/integration-test.js",
  "prepublishOnly": "npm test",
  "example": "cd ../examples/basic-usage && npm install && npm start"
}
```

Changes:
- "test": Run actual integration tests (not placeholder echo)
- "test:watch": Optional watch mode (requires nodemon - document as optional devDep)
- "prepublishOnly": Safety gate - always run tests before publishing
- "example": Quick way to run example project from gsd/ directory

Note: Do NOT add nodemon as dependency. It's optional. Users can install manually if they want watch mode.

Why prepublishOnly: Prevents publishing broken code. Runs automatically before `npm publish`.

Why not pretest hooks: Keep it simple - direct test execution, no hidden hooks.
  </action>
  <verify>cat gsd/package.json | grep '"test": "node scripts/integration-test.js"' && cat gsd/package.json | grep "prepublishOnly"</verify>
  <done>package.json scripts updated with test, prepublishOnly, and example commands</done>
</task>

</tasks>

<verification>
1. Validate CONTRIBUTING.md completeness:
   - Has development setup section
   - Explains conventional commits with examples
   - Describes PR process
2. Test index.js exports:
   - `node -e "import('./gsd/scripts/index.js').then(m => console.log(Object.keys(m)))"` shows all exported functions
3. Run example project:
   - `cd examples/basic-usage && npm install && npm start`
   - Should complete without errors
   - Output shows 3 examples running successfully
4. Verify package.json scripts:
   - `cd gsd && npm test` runs integration-test.js
   - All tests pass
</verification>

<success_criteria>
- CONTRIBUTING.md provides clear contribution guidelines
- gsd/scripts/index.js re-exports functions from all modules
- examples/basic-usage/ is a working, runnable demo
- Example project runs with `npm install && npm start`
- package.json scripts include test, prepublishOnly, example
- prepublishOnly prevents publishing without passing tests
</success_criteria>

<output>
After completion, create `.planning/phases/05-polish-and-distribution-readiness/05-03-SUMMARY.md`
</output>
